<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ุงูุฑุงุจุทุฉ ุงูููููุงุฆูุฉ | ุงูููุชุจุฉ ุงูููููุงุฆูุฉ</title>
  <meta name="description" content="ููุชุจุฉ ุฑูููุฉ ุดุงููุฉ ูููุชุจ ูุงููุฑุงุฌุน ุงูููููุงุฆูุฉ ูุน ุฅููุงููุฉ ุงูุจุญุซ ูุงูุชุตูุญ ุญุณุจ ุงููุฆุงุช."/>
  <meta name="keywords" content="ููุชุจุฉ ููููุงุฆูุฉ, ูุชุจ ููููุงุก, ูุฑุงุฌุน ุนูููุฉ, ุงูุฌุฒุงุฆุฑ"/>

  <!-- ุฎุท Tajawal -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;600;700&family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="style.css"/>
</head>
<body id="top">

  <!-- ุชุฎุทู ุฅูู ุงููุญุชูู -->
  <a href="#main-content" class="skip-link">ุชุฎุทู ุฅูู ุงููุญุชูู</a>
  <!-- ุดุฑูุท ุงูุชูุฏูู -->
  <div id="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>

  <!-- ุงูููุฏุฑ -->
  <header>
    <nav class="container" role="navigation" aria-label="ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ">
      <div class="logo">
        <a href="index.html">
          <img src="https://png.pngtree.com/element_pic/00/16/07/115783931601b5c.jpg"
               alt="ุดุนุงุฑ ุงูุฑุงุจุทุฉ ุงูููููุงุฆูุฉ" class="logo-img"/>
          <strong id="site-title">ุงูุฑุงุจุทุฉ ุงูููููุงุฆูุฉ</strong>
        </a>
      </div>
      <button class="menu-toggle" onclick="toggleMenu()" aria-label="ุชุจุฏูู ุงููุงุฆูุฉ" aria-expanded="false">โฐ</button>
      <ul id="nav-list">
        <li><a href="index.html" class="nav-link">ุงูุฑุฆูุณูุฉ</a></li>
        <li><a href="index.html#services" class="nav-link">ุงูุฎุฏูุงุช</a></li>
        <li><a href="index.html#blog" class="nav-link">ูุฏููุฉ</a></li>
        <li><a href="index.html#contact" class="nav-link">ุชูุงุตู ูุนูุง</a></li>
      </ul>
      <div class="toggles">
        <button id="lang-toggle" aria-label="ุชุจุฏูู ุงููุบุฉ">EN</button>
        <input type="checkbox" id="darkSwitch" aria-label="ุชุจุฏูู ุงููุถุน ุงููููู"/>
        <label for="darkSwitch" title="ุชุจุฏูู ุงููุถุน ุงููููู">๐</label>
      </div>
    </nav>
  </header>

  <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
  <main id="main-content">
    <!-- Hero Section -->
    <section class="hero library-hero">
      <h1 id="hero-title">ุงูููุชุจุฉ ุงูููููุงุฆูุฉ</h1>
      <p id="hero-desc">ููุชุจุฉ ุฑูููุฉ ุดุงููุฉ ูููุชุจ ูุงููุฑุงุฌุน ุงูููููุงุฆูุฉ ูุน ุฅููุงููุฉ ุงูุจุญุซ ูุงูุชุตูุญ ุญุณุจ ุงููุฆุงุช</p>
      <div class="hero-stats">
        <div class="stat-item">
          <span class="stat-number">500+</span>
          <span class="stat-label">ูุชุงุจ ููุฑุฌุน</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">25+</span>
          <span class="stat-label">ูุฆุฉ ูุชุฎุตุตุฉ</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">15+</span>
          <span class="stat-label">ูุบุฉ ูุชุงุญุฉ</span>
        </div>
      </div>
    </section>

    <!-- Breadcrumb Navigation -->
    <nav class="breadcrumb" aria-label="ูุณุงุฑ ุงูุชููู">
      <ol>
        <li><a href="index.html">ุงูุฑุฆูุณูุฉ</a></li>
        <li><a href="index.html#services">ุงูุฎุฏูุงุช</a></li>
        <li><span aria-current="page">ุงูููุชุจุฉ ุงูููููุงุฆูุฉ</span></li>
      </ol>
    </nav>

    <!-- Library Container -->
    <div class="library-container">

      <!-- Sidebar Filters -->
      <aside class="filter-sidebar" role="complementary" aria-label="ุฎูุงุฑุงุช ุงูููุชุฑุฉ">
        <div class="filter-header">
          <h2>ููุชุฑุฉ ุงููุญุชูู</h2>
          <button id="clear-filters" class="btn-secondary" aria-label="ูุณุญ ุฌููุน ุงูููุงุชุฑ">ูุณุญ ุงูููู</button>
        </div>

        <div class="filter-group">
          <label for="search-library">ุงูุจุญุซ ูู ุงูููุชุจุฉ</label>
          <input type="text" id="search-library" placeholder="ุงุจุญุซ ูู ุงูุนูุงููู ูุงููุคูููู..." aria-label="ุงูุจุญุซ ูู ุงูููุชุจุฉ">
        </div>

        <div class="filter-group">
          <label for="sort-by">ุชุฑุชูุจ ุจุญุณุจ:</label>
          <select id="sort-by" aria-label="ุชุฑุชูุจ ุงููุชุงุฆุฌ">
            <option value="title">ุงูุนููุงู (ุฃโู)</option>
            <option value="author">ุงููุคูู</option>
            <option value="year">ุณูุฉ ุงููุดุฑ</option>
            <option value="rating">ุงูุชูููู</option>
            <option value="downloads">ุงูุฃูุซุฑ ุชุญูููุงู</option>
          </select>
        </div>

        <details class="filter-group" open>
          <summary>ุงููุฆุงุช ุงูุฑุฆูุณูุฉ</summary>
          <div class="filter-options" role="group" aria-label="ุงููุฆุงุช ุงูุฑุฆูุณูุฉ">
            <label class="filter-option">
              <input type="checkbox" value="general" aria-describedby="general-count">
              <span class="filter-text">ููููุงุก ุนุงูุฉ</span>
              <span class="filter-count" id="general-count">(85)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="organic" aria-describedby="organic-count">
              <span class="filter-text">ููููุงุก ุนุถููุฉ</span>
              <span class="filter-count" id="organic-count">(72)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="inorganic" aria-describedby="inorganic-count">
              <span class="filter-text">ููููุงุก ุบูุฑ ุนุถููุฉ</span>
              <span class="filter-count" id="inorganic-count">(68)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="analytical" aria-describedby="analytical-count">
              <span class="filter-text">ููููุงุก ุชุญููููุฉ</span>
              <span class="filter-count" id="analytical-count">(54)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="physical" aria-describedby="physical-count">
              <span class="filter-text">ููููุงุก ููุฒูุงุฆูุฉ</span>
              <span class="filter-count" id="physical-count">(48)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="biochemistry" aria-describedby="biochemistry-count">
              <span class="filter-text">ููููุงุก ุญูููุฉ</span>
              <span class="filter-count" id="biochemistry-count">(42)</span>
            </label>
          </div>
        </details>

        <details class="filter-group">
          <summary>ูุณุชูู ุงูุชุนููู</summary>
          <div class="filter-options" role="group" aria-label="ูุณุชูู ุงูุชุนููู">
            <label class="filter-option">
              <input type="checkbox" value="undergraduate" aria-describedby="undergraduate-count">
              <span class="filter-text">ุงููุฑุญูุฉ ุงูุฌุงูุนูุฉ</span>
              <span class="filter-count" id="undergraduate-count">(180)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="graduate" aria-describedby="graduate-count">
              <span class="filter-text">ุงูุฏุฑุงุณุงุช ุงูุนููุง</span>
              <span class="filter-count" id="graduate-count">(120)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="research" aria-describedby="research-count">
              <span class="filter-text">ุงูุจุญุซ ุงูุนููู</span>
              <span class="filter-count" id="research-count">(95)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="professional" aria-describedby="professional-count">
              <span class="filter-text">ุงููููููู</span>
              <span class="filter-count" id="professional-count">(105)</span>
            </label>
          </div>
        </details>

        <details class="filter-group">
          <summary>ุงููุบุฉ</summary>
          <div class="filter-options" role="group" aria-label="ุงููุบุฉ">
            <label class="filter-option">
              <input type="checkbox" value="arabic" aria-describedby="arabic-count">
              <span class="filter-text">ุงูุนุฑุจูุฉ</span>
              <span class="filter-count" id="arabic-count">(125)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="english" aria-describedby="english-count">
              <span class="filter-text">ุงูุฅูุฌููุฒูุฉ</span>
              <span class="filter-count" id="english-count">(285)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="french" aria-describedby="french-count">
              <span class="filter-text">ุงููุฑูุณูุฉ</span>
              <span class="filter-count" id="french-count">(90)</span>
            </label>
          </div>
        </details>

        <details class="filter-group">
          <summary>ููุน ุงููุญุชูู</summary>
          <div class="filter-options" role="group" aria-label="ููุน ุงููุญุชูู">
            <label class="filter-option">
              <input type="checkbox" value="textbook" aria-describedby="textbook-count">
              <span class="filter-text">ูุชุจ ุฏุฑุงุณูุฉ</span>
              <span class="filter-count" id="textbook-count">(220)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="reference" aria-describedby="reference-count">
              <span class="filter-text">ูุฑุงุฌุน ุนูููุฉ</span>
              <span class="filter-count" id="reference-count">(150)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="handbook" aria-describedby="handbook-count">
              <span class="filter-text">ุฃุฏูุฉ ุนูููุฉ</span>
              <span class="filter-count" id="handbook-count">(80)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="journal" aria-describedby="journal-count">
              <span class="filter-text">ูุฌูุงุช ุนูููุฉ</span>
              <span class="filter-count" id="journal-count">(50)</span>
            </label>
          </div>
        </details>
      </aside>

      <!-- Library Content -->
      <section class="library-content" role="main" aria-label="ูุญุชูู ุงูููุชุจุฉ">
        <div class="library-header">
          <h2 class="results-title">ุงููุชุงุฆุฌ <span id="results-count">(500 ูุฑุฌุน)</span></h2>
          <div class="view-controls">
            <button class="view-btn active" data-view="grid" aria-label="ุนุฑุถ ุดุจูู" title="ุนุฑุถ ุดุจูู">
              <span aria-hidden="true">โ</span>
            </button>
            <button class="view-btn" data-view="list" aria-label="ุนุฑุถ ูุงุฆูุฉ" title="ุนุฑุถ ูุงุฆูุฉ">
              <span aria-hidden="true">โฐ</span>
            </button>
          </div>
        </div>

        <div class="library-grid" id="library-grid">
          <!-- ูุซุงู ุจุทุงูุฉ ูุชุงุจ -->
          <article class="book-card"
                   data-title="ุฃุณุณ ุงูููููุงุก ุงูุนุงูุฉ"
                   data-author="ุฏ. ุฃุญูุฏ ูุญูุฏ ุนูู"
                   data-category="general"
                   data-level="undergraduate"
                   data-language="arabic"
                   data-type="textbook"
                   data-year="2023"
                   data-rating="4.8">
            <div class="book-cover">
              <img src="https://via.placeholder.com/200x280.png?text=ุฃุณุณ+ุงูููููุงุก+ุงูุนุงูุฉ" alt="ุบูุงู ูุชุงุจ ุฃุณุณ ุงูููููุงุก ุงูุนุงูุฉ" class="cover-image">
              <div class="book-rating">
                <div class="stars" aria-label="ุชูููู 4.8 ูู 5 ูุฌูู">
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star filled" aria-hidden="true">โ</span>
                </div>
                <span class="rating-text">4.8</span>
              </div>
              <div class="book-overlay">
                <button class="btn-primary preview-btn" onclick="previewBook('ุฃุณุณ ุงูููููุงุก ุงูุนุงูุฉ')">ูุนุงููุฉ</button>
                <button class="btn-secondary download-btn" onclick="downloadBook('ุฃุณุณ ุงูููููุงุก ุงูุนุงูุฉ')">ุชุญููู</button>
              </div>
            </div>
            <div class="book-info">
              <h3>ุฃุณุณ ุงูููููุงุก ุงูุนุงูุฉ</h3>
              <p class="book-author">ุฏ. ุฃุญูุฏ ูุญูุฏ ุนูู</p>
              <div class="book-meta">
                <span class="book-category">ููููุงุก ุนุงูุฉ</span>
                <span class="book-year">2023</span>
                <span class="book-language">ุงูุนุฑุจูุฉ</span>
              </div>
              <div class="book-badges">
                <span class="badge new">ุฌุฏูุฏ</span>
                <span class="badge popular">ุงูุฃูุซุฑ ุชุญูููุงู</span>
              </div>
              <p class="book-description">
                ูุชุงุจ ุดุงูู ูุบุทู ุฃุณุงุณูุงุช ุงูููููุงุก ุงูุนุงูุฉ ููุทูุงุจ ุงูุฌุงูุนููู ูุน ุฃูุซูุฉ ุชุทุจูููุฉ ูุชูุงุฑูู ูุญูููุฉ.
              </p>
              <div class="book-stats">
                <span class="stat">๐ฅ 1,250 ุชุญููู</span>
                <span class="stat">๐ 450 ุตูุญุฉ</span>
                <span class="stat">๐พ 15.2 MB</span>
              </div>
            </div>
          </article>

          <!-- ูุซุงู ุจุทุงูุฉ ูุชุงุจ ุซุงููุฉ -->
          <article class="book-card"
                   data-title="Organic Chemistry Principles"
                   data-author="Dr. Sarah Johnson"
                   data-category="organic"
                   data-level="graduate"
                   data-language="english"
                   data-type="textbook"
                   data-year="2022"
                   data-rating="4.6">
            <div class="book-cover">
              <img src="https://via.placeholder.com/200x280.png?text=Organic+Chemistry" alt="ุบูุงู ูุชุงุจ Organic Chemistry Principles" class="cover-image">
              <div class="book-rating">
                <div class="stars" aria-label="ุชูููู 4.6 ูู 5 ูุฌูู">
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star half" aria-hidden="true">โ</span>
                </div>
                <span class="rating-text">4.6</span>
              </div>
              <div class="book-overlay">
                <button class="btn-primary preview-btn" onclick="previewBook('Organic Chemistry Principles')">ูุนุงููุฉ</button>
                <button class="btn-secondary download-btn" onclick="downloadBook('Organic Chemistry Principles')">ุชุญููู</button>
              </div>
            </div>
            <div class="book-info">
              <h3>Organic Chemistry Principles</h3>
              <p class="book-author">Dr. Sarah Johnson</p>
              <div class="book-meta">
                <span class="book-category">ููููุงุก ุนุถููุฉ</span>
                <span class="book-year">2022</span>
                <span class="book-language">ุงูุฅูุฌููุฒูุฉ</span>
              </div>
              <div class="book-badges">
                <span class="badge recommended">ููุตู ุจู</span>
                <span class="badge advanced">ูุชูุฏู</span>
              </div>
              <p class="book-description">
                ุฏููู ุดุงูู ููุจุงุฏุฆ ุงูููููุงุก ุงูุนุถููุฉ ุงููุชูุฏูุฉ ูุน ุงูุชุฑููุฒ ุนูู ุงูุขููุงุช ูุงูุชุทุจููุงุช ุงูุญุฏูุซุฉ.
              </p>
              <div class="book-stats">
                <span class="stat">๐ฅ 890 ุชุญููู</span>
                <span class="stat">๐ 680 ุตูุญุฉ</span>
                <span class="stat">๐พ 22.8 MB</span>
              </div>
            </div>
          </article>

          <!-- ูุซุงู ุจุทุงูุฉ ูุชุงุจ ุซุงูุซุฉ -->
          <article class="book-card"
                   data-title="ุงูุชุญููู ุงูููููุงุฆู ุงูุขูู"
                   data-author="ุฏ. ูุงุทูุฉ ุงูุฒูุฑุงุก"
                   data-category="analytical"
                   data-level="professional"
                   data-language="arabic"
                   data-type="reference"
                   data-year="2023"
                   data-rating="4.9">
            <div class="book-cover">
              <img src="https://via.placeholder.com/200x280.png?text=ุงูุชุญููู+ุงูููููุงุฆู" alt="ุบูุงู ูุชุงุจ ุงูุชุญููู ุงูููููุงุฆู ุงูุขูู" class="cover-image">
              <div class="book-rating">
                <div class="stars" aria-label="ุชูููู 4.9 ูู 5 ูุฌูู">
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star filled" aria-hidden="true">โ</span>
                </div>
                <span class="rating-text">4.9</span>
              </div>
              <div class="book-overlay">
                <button class="btn-primary preview-btn" onclick="previewBook('ุงูุชุญููู ุงูููููุงุฆู ุงูุขูู')">ูุนุงููุฉ</button>
                <button class="btn-secondary download-btn" onclick="downloadBook('ุงูุชุญููู ุงูููููุงุฆู ุงูุขูู')">ุชุญููู</button>
              </div>
            </div>
            <div class="book-info">
              <h3>ุงูุชุญููู ุงูููููุงุฆู ุงูุขูู</h3>
              <p class="book-author">ุฏ. ูุงุทูุฉ ุงูุฒูุฑุงุก</p>
              <div class="book-meta">
                <span class="book-category">ููููุงุก ุชุญููููุฉ</span>
                <span class="book-year">2023</span>
                <span class="book-language">ุงูุนุฑุจูุฉ</span>
              </div>
              <div class="book-badges">
                <span class="badge expert">ููุฎุจุฑุงุก</span>
                <span class="badge updated">ูุญุฏุซ</span>
              </div>
              <p class="book-description">
                ูุฑุฌุน ูุชุฎุตุต ูู ุชูููุงุช ุงูุชุญููู ุงูููููุงุฆู ุงูุขูู ุงูุญุฏูุซุฉ ูุน ุงูุชุทุจููุงุช ุงูุนูููุฉ ูู ุงููุฎุชุจุฑุงุช.
              </p>
              <div class="book-stats">
                <span class="stat">๐ฅ 2,100 ุชุญููู</span>
                <span class="stat">๐ 520 ุตูุญุฉ</span>
                <span class="stat">๐พ 18.5 MB</span>
              </div>
            </div>
          </article>

          <!-- ูุซุงู ุจุทุงูุฉ ูุชุงุจ ุฑุงุจุนุฉ -->
          <article class="book-card"
                   data-title="Chimie Physique Moderne"
                   data-author="Prof. Jean Dubois"
                   data-category="physical"
                   data-level="research"
                   data-language="french"
                   data-type="reference"
                   data-year="2021"
                   data-rating="4.4">
            <div class="book-cover">
              <img src="https://via.placeholder.com/200x280.png?text=Chimie+Physique" alt="ุบูุงู ูุชุงุจ Chimie Physique Moderne" class="cover-image">
              <div class="book-rating">
                <div class="stars" aria-label="ุชูููู 4.4 ูู 5 ูุฌูู">
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star filled" aria-hidden="true">โ</span>
                  <span class="star empty" aria-hidden="true">โ</span>
                </div>
                <span class="rating-text">4.4</span>
              </div>
              <div class="book-overlay">
                <button class="btn-primary preview-btn" onclick="previewBook('Chimie Physique Moderne')">ูุนุงููุฉ</button>
                <button class="btn-secondary download-btn" onclick="downloadBook('Chimie Physique Moderne')">ุชุญููู</button>
              </div>
            </div>
            <div class="book-info">
              <h3>Chimie Physique Moderne</h3>
              <p class="book-author">Prof. Jean Dubois</p>
              <div class="book-meta">
                <span class="book-category">ููููุงุก ููุฒูุงุฆูุฉ</span>
                <span class="book-year">2021</span>
                <span class="book-language">ุงููุฑูุณูุฉ</span>
              </div>
              <div class="book-badges">
                <span class="badge research">ุจุญุซู</span>
                <span class="badge international">ุฏููู</span>
              </div>
              <p class="book-description">
                ูุฑุฌุน ูุชูุฏู ูู ุงูููููุงุก ุงูููุฒูุงุฆูุฉ ุงูุญุฏูุซุฉ ูุน ุงูุชุฑููุฒ ุนูู ุงููุธุฑูุงุช ุงูุฌุฏูุฏุฉ ูุงูุชุทุจููุงุช ุงููุชุทูุฑุฉ.
              </p>
              <div class="book-stats">
                <span class="stat">๐ฅ 650 ุชุญููู</span>
                <span class="stat">๐ 780 ุตูุญุฉ</span>
                <span class="stat">๐พ 28.3 MB</span>
              </div>
            </div>
          </article>
        </div>

        <!-- Load More Button -->
        <div class="load-more-container">
          <button class="btn-secondary load-more-btn" id="load-more">ุชุญููู ุงููุฒูุฏ ูู ุงููุชุงุฆุฌ</button>
        </div>
      </section>

    </div>
  </main>

  <!-- Back to Top -->
  <button id="back-to-top" title="ุงูุนูุฏุฉ ููุฃุนูู" aria-label="ุงูุนูุฏุฉ ุฅูู ุฃุนูู ุงูุตูุญุฉ">โ</button>

  <!-- ุงูููุชุฑ -->
  <footer class="footer-custom">
    <p>ุงูุฑุงุจุทุฉ ุงูููููุงุฆูุฉ | Chemical Network | ยฉ 2025</p>
    <nav class="footer-nav" aria-label="ุฑูุงุจุท ุงูููุชุฑ">
      <a href="index.html">ุงูุฑุฆูุณูุฉ</a> |
      <a href="index.html#services">ุงูุฎุฏูุงุช</a> |
      <a href="index.html#blog">ูุฏููุฉ</a> |
      <a href="index.html#contact">ุชูุงุตู ูุนูุง</a>
    </nav>
  </footer>

  <!-- JavaScript -->
  <script src="script.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const grid = document.getElementById('library-grid');
      const cards = Array.from(grid.children);
      const clearBtn = document.getElementById('clear-filters');
      const searchInput = document.getElementById('search-library');
      const sortSelect = document.getElementById('sort-by');
      const checkboxes = Array.from(document.querySelectorAll('.filter-group input[type="checkbox"]'));
      const resultsCount = document.getElementById('results-count');
      const viewBtns = document.querySelectorAll('.view-btn');
      const loadMoreBtn = document.getElementById('load-more');

      // ูุณุญ ุงูููุงุชุฑ
      clearBtn.addEventListener('click', () => {
        searchInput.value = '';
        sortSelect.value = 'title';
        checkboxes.forEach(cb => cb.checked = false);
        renderBooks();
      });

      // ุชุจุฏูู ุงูุนุฑุถ
      viewBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          viewBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          const view = btn.dataset.view;
          grid.className = view === 'list' ? 'library-list' : 'library-grid';
        });
      });

      // ูู ุงูุชุบูุฑุงุช ุชุนูุฏ ุฑุณู ุงููุชุงุฆุฌ
      [searchInput, sortSelect, ...checkboxes].forEach(el =>
        el.addEventListener('change', renderBooks)
      );

      function renderBooks() {
        const searchQ = searchInput.value.trim().toLowerCase();
        const sortBy = sortSelect.value;
        const categories = checkboxes.filter(cb => cb.checked && ['general','organic','inorganic','analytical','physical','biochemistry'].includes(cb.value)).map(cb => cb.value);
        const levels = checkboxes.filter(cb => cb.checked && ['undergraduate','graduate','research','professional'].includes(cb.value)).map(cb => cb.value);
        const languages = checkboxes.filter(cb => cb.checked && ['arabic','english','french'].includes(cb.value)).map(cb => cb.value);
        const types = checkboxes.filter(cb => cb.checked && ['textbook','reference','handbook','journal'].includes(cb.value)).map(cb => cb.value);

        let filtered = cards.filter(card => {
          const title = card.dataset.title.toLowerCase();
          const author = card.dataset.author.toLowerCase();
          const category = card.dataset.category;
          const level = card.dataset.level;
          const language = card.dataset.language;
          const type = card.dataset.type;
          
          const matchSearch = !searchQ || title.includes(searchQ) || author.includes(searchQ);
          const matchCategory = categories.length === 0 || categories.includes(category);
          const matchLevel = levels.length === 0 || levels.includes(level);
          const matchLanguage = languages.length === 0 || languages.includes(language);
          const matchType = types.length === 0 || types.includes(type);
          
          return matchSearch && matchCategory && matchLevel && matchLanguage && matchType;
        });

        // ุชุฑุชูุจ
        if (sortBy === 'title') {
          filtered.sort((a,b) => a.dataset.title.localeCompare(b.dataset.title,'ar'));
        } else if (sortBy === 'author') {
          filtered.sort((a,b) => a.dataset.author.localeCompare(b.dataset.author,'ar'));
        } else if (sortBy === 'year') {
          filtered.sort((a,b) => parseInt(b.dataset.year) - parseInt(a.dataset.year));
        } else if (sortBy === 'rating') {
          filtered.sort((a,b) => parseFloat(b.dataset.rating) - parseFloat(a.dataset.rating));
        }

        // ุฅุนุงุฏุฉ ุนุฑุถ
        grid.innerHTML = '';
        filtered.forEach(card => grid.appendChild(card));
        
        // ุชุญุฏูุซ ุนุฏุฏ ุงููุชุงุฆุฌ
        resultsCount.textContent = `(${filtered.length} ูุฑุฌุน)`;
      }

      // ูุนุงููุฉ ุงููุชุงุจ
      window.previewBook = function(bookTitle) {
        alert(`ุณูุชู ูุชุญ ูุนุงููุฉ ูููุชุงุจ: ${bookTitle}`);
        // ููุง ูููู ุฅุถุงูุฉ ููุทู ุงููุนุงููุฉ
      };

      // ุชุญููู ุงููุชุงุจ
      window.downloadBook = function(bookTitle) {
        alert(`ุณูุชู ุชุญููู ุงููุชุงุจ: ${bookTitle}`);
        // ููุง ูููู ุฅุถุงูุฉ ููุทู ุงูุชุญููู
      };

      // ุนุฑุถ ูุจุฏุฆู
      renderBooks();
    });
  </script>

</body>
</html>

